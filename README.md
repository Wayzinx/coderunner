# 代码执行工具

一个强大的插件，可以根据请求内容自动生成代码并执行，然后返回执行结果。本工具支持代码调试和持久化存储。

## 使用方法

### 基本命令

- **执行Python代码**: `/run_python 计算1+1的结果`
- **执行JavaScript代码**: `/run_js 计算数组[1,2,3,4,5]的总和`
- **自定义语言（两种方式）**: 
  - `/run language=语言名 执行任务描述`
  - `/run_with_args language=语言名 执行任务描述 更多描述`

> 注意: 如果遇到"_empty() takes no arguments"错误，请使用`/run_with_args`命令，它支持更灵活的参数处理。

### 支持的编程语言

- Python (默认)
- JavaScript (Node.js)
- Bash
- 更多语言正在添加中...

### 特色功能

#### 自动调试
当代码执行失败时，系统会自动尝试调试并修复代码，最多进行3次调试尝试。每次调试都会分析错误信息并生成修复后的代码。

#### 代码持久化存储
所有成功执行的代码都会被保存在固定目录中（~/code_storage），便于后续查看和使用。系统会为每个任务创建唯一的项目ID，并在执行成功后显示代码的保存路径。

### 安全限制

为确保安全，代码执行存在以下限制：
- 执行时间上限为10秒
- 内存使用上限为100MB
- 不允许访问系统敏感文件和目录
- 禁止某些危险系统调用

## 示例

请求Python代码计算斐波那契数列：
```
/run_python 生成一个函数计算斐波那契数列的第n项，并计算第10项的值
```

请求JavaScript代码处理数组：
```
/run_js 编写代码找出数组[3,1,4,1,5,9,2,6]中的最大值和最小值，并计算它们的差值
```

使用可变参数命令（推荐）：
```
/run_with_args language=bash 创建一个脚本，列出当前目录下的所有文件，并按大小排序
``` 